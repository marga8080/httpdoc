"use strict";(self.webpackChunkvdate=self.webpackChunkvdate||[]).push([[942],{1942:function(t,e,s){s.r(e),s.d(e,{default:function(){return d}}),s(4114);var o=s(1766),i={props:{show:[String,Number,Boolean]},watch:{show:function(t){this.open=!!t}},data(){return{open:!1,books:[]}},mounted(){this.loadBooks("static/book/books.txt")},methods:{close(){this.open=!1},loadBooks(t){fetch(t).then((t=>t.text())).then((t=>{t=this.replaceAll(t,"\r\n","@#@"),t=this.replaceAll(t,"\n","@#@"),this.books=t.split("@#@"),this.books.length>0&&this.$emit("selectBook",this.books[0])})).catch((t=>{console.error("读取文件失败:",t)}))},replaceAll(t,e,s){return t.replace(new RegExp(e,"g"),s)},selectBook(t){this.open=!1,this.$emit("selectBook",t)}}},n=s(1656),l=(0,n.A)(i,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"atlist"},[e("div",{class:t.open?"mask":"",on:{click:t.close}}),e("div",{class:t.open?"open":"close"},[t._m(0),t._l(t.books,(function(s,o){return e("div",{key:o,staticClass:"item",on:{click:function(e){return t.selectBook(s)}}},[t._v(" "+t._s(s)+" ")])}))],2)])}),[function(){var t=this._self._c;return t("div",{staticClass:"header"},[t("div",{staticClass:"cool-text"},[this._v("目录")])])}],!1,null,"09db1d78",null).exports,a={name:"article-head",components:{Drawer:o.A,ArticleList:l},data(){return{open:!1,listShow:!1,headTile:""}},watch:{},computed:{},methods:{handleMenu(){this.open=Math.random()},selectBook(t){this.$emit("selectBook",t),this.headTile=t}}},r=(0,n.A)(a,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"ath"},[e("div",{staticClass:"at-header clear"},[e("div",{staticClass:"at-box"},[e("span",{staticClass:"drawer",on:{click:function(e){return t.handleMenu()}}},[t._v("☰")]),e("div",{staticClass:"at-content",style:{"text-align":"combination"}},[t._v(" "+t._s(this.headTile)+" ")]),e("span",{staticClass:"at-right",on:{click:function(e){t.listShow=Math.random()}}},[t._v("※")])])]),e("hr"),e("drawer",{attrs:{show:t.open}}),e("article-list",{attrs:{show:t.listShow},on:{selectBook:t.selectBook}})],1)}),[],!1,null,"79beb6a4",null).exports,c=s(834);(0,c.ry)({"阿弥陀佛":"ā mí tuó fó","南无":"nā mó","祗树给":"qí shù jǐ","般若波罗蜜":"bō rě bō luó mì"});var h={name:"Article",components:{ArticleHead:r},data(){return{texts:[],isMobile:!0}},watch:{},computed:{},mounted(){this.checkMobile()},methods:{selectBook(t){this.loadTextFile(`static/book/${t}.txt`)},checkMobile(){const t=navigator.userAgent||navigator.vendor||window.opera;console.log(t),this.isMobile=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(t)},loadTextFile(t){this.words=[],this.texts=[],fetch(t).then((t=>t.text())).then((t=>{t=this.replaceAll(t,"\r\n","\n"),t=this.replaceAll(t,"\n\n","\n"),(t=this.replaceAll(t," ","　")).split("\n").forEach((t=>{t.startsWith("#")?this.texts.push("<b>"+(0,c.qy)(t.substring(1))+"</b>"):this.texts.push((0,c.qy)(t))}))})).catch((t=>{console.error("读取文件失败:",t)}))},isChinese(t){return/^[\u4e00-\u9fa5]+$/.test(t.trim())},pinyin(t){return(0,c.iA)(t)},replaceAll(t,e,s){return t.replace(new RegExp(e,"g"),s)}}},d=(0,n.A)(h,(function(){var t=this,e=t._self._c;return e("div",[e("article-head",{on:{selectBook:t.selectBook}}),e("div",{staticClass:"art-content"},[e("div",{staticClass:"article"},t._l(t.texts,(function(s,o){return e("div",{key:o,domProps:{innerHTML:t._s(s)}})})),0)])],1)}),[],!1,null,null,null).exports}}]);